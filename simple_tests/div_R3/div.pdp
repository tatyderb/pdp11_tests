; expected:
; r0=000204 r2=054321 r4=000000 sp=000000
; r1=000000 r3=001357 r5=000000 pc=001014
; psw=000000: cm=k pm=k pri=0        [5]
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
; Реализовать команду div 
; Двоичный код: 0 111 001 rrr sss sss
; Формат ассемблера: div src, reg
; 32-битное содержимое регистров [reg, reg|1] (reg - старшие биты) 
; делится на содержимое источника src, 
; частное остается в reg, а остаток в reg|1.
; Если номер регистра reg нечетный (то есть reg == reg|1), то 
; деление не выполняется и устанавливается бит V
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
; Это можно НЕ реализовывать:
; Остаток имеет тот же знак, что и делимое, 
; то есть -7 / 2 = -4 и 1 в остатке
; то есть 7 / -2 = -3 и -1 в остатке
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
; От умножения теоретического обоснование тестов
; Тест 0
; 123 * 456 = 60 752
; Тест 1 - реализован
; 12345 * 54321 = 717743365
; bin: 111001111111100011011110101
; bin: 0 000 011 100 111 111 % 1 100 011 011 110 101
; oct: 0   0   3   4   7   7   1   4   3   3   6   5
; Тест 1 - реализован
; 12345 * 54321 = 717743365
; 12345 * 54321 + 1357 = 717743365 + 1357 = 717744744
; bin: 111001111111100100111100100
; bin:        11 100 111 111 % 1 100 100 111 100 100
; oct: 0   0   3   4   7   7   1   4   4   7   4   4


    .=200
A:  .WORD  3477,  144744, 12345

    .=1000
    mov #A, R0      ; R0 = 200
    mov (R0)+, R2   ; R2 = 3477
    mov (R0)+, R3   ; R3 = 144744
    
    div (R0), R3    ; R2 = 54321, R3 = 1357
    
    halt
